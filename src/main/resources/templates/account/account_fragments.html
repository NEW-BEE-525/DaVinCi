<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no,email=no,address=no"><!-- 清除页面缓存 -->
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="shortcut icon" href="/img/index_need/dfq_logo.ico">
    <title th:text="${title}">个人中心</title>
    <link href="/css/account/personal_center.css" rel="stylesheet">
    <link href="/css/account/my_order_and_bill.css" rel="stylesheet">
    <script src="/js/index_need/jquery.js"></script>
    <script src="/js/index_need/my_order_and_bill.js"></script>
    <style>
        .header_a:hover {
            color: #FFAC00;
            font-weight: 600;
        }
    </style>
</head>

<body>
<div id="root">
    <div id="reactRoot">
        <!--头部-->
        <div class="_3UHJr">
            <div class="_3yuli">
                <a href="/">
                    <img src="/img/index_need/dfqlogo.png" alt="logo">
                </a>
            </div>
            <div class="JS7zp">
                <a href="/" class="header_a">首页</a>
                <a href="/inProduct" class="header_a">站内商品</a>
                <a href="/outProduct" class="header_a">站外商品</a>
                <a href="#" class="header_a">关于达分期</a>
            </div>
            <div class="_1j-ox" hidden>
                <input maxlength="20" type="text" placeholder="搜索关键词">
                <a>搜索</a>
            </div>
            <div class="_28XjI" style="position: relative;">
                <img th:title="${session.account?.getUsername()}?${session.account.getUsername()}:'用户头像'"
                     th:src="${session.account?.getAvatar()}?${session.account.getAvatar()}:'/img/account/common_head_pic.jpg'"
                     alt="头像" style="position: relative;">
                <span class="_1s24Z"></span>
                <ul>
                    <li><a href="/logout">退出登录</a></li>
                </ul>
            </div>
        </div>
        <!--中间-->
        <div class="_3p0h7">
            <!--左栏-->
            <div class="_3WUlw">
                <ul>
                    <li class="VrjG_ -jFKi"><a onclick="chang_main_div(0)">个人中心</a></li>
                    <li class="-jFKi"><a onclick="chang_main_div(1)">我的订单</a></li>
                    <li class="-jFKi"><a onclick="chang_main_div(2)">我的账单</a></li>
                    <li class="-jFKi"><a onclick="chang_main_div(3)">帮助</a></li>
                    <li class="-jFKi"><a onclick="chang_main_div(4)">安全中心</a></li>
                </ul>
            </div>
            <!--主体-->
            <div class="qtQ6s">
                <div class="adminContentBody">
                    <div class="_1NC1D">
                        <!--主体上栏-->
                        <div class="rc-tabs rc-tabs-top">
                            <div role="tab" aria-disabled="false" aria-selected="true"
                                 class="rc-tabs-tab-active rc-tabs-tab" id="above_info" onclick="slide_1()">个人中心
                            </div>
                            <div class="rc-tabs-ink-bar rc-tabs-ink-bar-animated"    id="bar_1"
                                 style="display: block; transform: translate3d(0px, 0px, 0px); width: 96px;">
                            </div>
                        </div>
                        <!--主体的主体-->
                        <div class="rc-tabs-content rc-tabs-content-no-animated">
                            <div class="main_html">
                                <!--
                                这里只主体，通过异步请求获取
                                -->
                                <div class="_1Zcg9 div_list" style="display:none;">
                                    <div class="_2u4ro">
                                        <div>
                                            <table cellspacing="15px" class="_319EJ">
                                                <tbody>
                                                <tr>
                                                    <td><span>昵称：</span><i>*</i></td>
                                                    <td>
                                                        <input type="text" class="_1YMqD"
                                                               placeholder="昵称长度2-15个字，可以是汉字、字母、'·'号或数字"
                                                               value="16期-来坛天子笑" name="account_name">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>头像：</td>
                                                    <td>
                                                        <div>
                                                            <div class="dhuTH">
                                                                <img src="https://res-static.shiguangkey.com/file/udb/user/20190823/18/20190823185731585463229.jpg"
                                                                     alt="头像" id="preview">
                                                            </div>
                                                            <div class="_3-8YK">
                                                                <div style="margin-bottom: 20px;">
                                                                    支持jpg格式的图片，小于5M
                                                                </div>
                                                                <div>
                                                                    <label for="image-clip-upload-input" class="XqBc3">修改头像
                                                                        <input type="file" id="image-clip-upload-input"
                                                                               name="pic_file"
                                                                               onchange="imgPreview(this)"
                                                                               accept="image/jpg">
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>性别：</td>
                                                    <td>
                                                        <div>
                                                            <label class="_2YvKE" for="male">
                                                                <input type="radio" name="infoSexRadio"
                                                                       id="male" value="1" checked>&nbsp;男
                                                            </label>
                                                            <label class="_2YvKE" for="female">
                                                                <input type="radio" name="infoSexRadio"
                                                                       id="female" value="2">&nbsp; 女
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>信誉等级：</td>
                                                    <td>
                                                        <span style="float: left; width: 200px; line-height: 2;"
                                                              id="user_level">0</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>常用邮箱：</td>
                                                    <td>
                                                        <input type="email" class="_3lIvW" name="email" title="请输入邮箱">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>手机号码：</td>
                                                    <td>
                                                        <span style="float: left; width: 200px; line-height: 2;"
                                                              id="hidden_phone">153xxxxx070</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>生日：</td>
                                                    <td>
                                                        <input title="点击选择日期" placeholder="选择日期" class="_2AmVs"
                                                               type="date" name="birthday" pattern="yyyy-MM-dd">
                                                        <p class="_1dh-i"></p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>个性签名：</td>
                                                    <td>
                        <textarea maxlength="20" class="_2uDW_"
                                  placeholder="请填写签名，20个字内">
                        </textarea>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        <a class="_2uLFV" onclick="save_info()">保存设置</a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="div_list" style="display: none">
                                    <div class="rc-tabs rc-tabs-top" id="rc-tabs2">
                                        <div role="tab" aria-disabled="false" aria-selected="true"
                                             class="rc-tabs-tab-active rc-tabs-tab" id="above_info2"
                                             onclick="slide_2()">待付款
                                        </div>
                                        <div class="rc-tabs-ink-bar rc-tabs-ink-bar-animated" id="bar_2"
                                             style="display: block; transform: translate3d(0px, 0px, 0px); width: 96px;">
                                        </div>
                                    </div>

                                    <div class="rc-tabs rc-tabs-top" id="rc-tabs3">
                                        <div role="tab" aria-disabled="false" aria-selected="true"
                                             class="rc-tabs-tab-active rc-tabs-tab" id="above_info3"
                                             onclick="slide_3()">待发货
                                        </div>
                                        <div class="rc-tabs-ink-bar rc-tabs-ink-bar-animated" id="bar_3"
                                             style="display: block; transform: translate3d(0px, 0px, 0px); width: 96px;">

                                        </div>
                                    </div>

                                    <div class="rc-tabs rc-tabs-top" id="rc-tabs4">
                                        <div role="tab" aria-disabled="false" aria-selected="true"
                                             class="rc-tabs-tab-active rc-tabs-tab" id="above_info4"
                                             onclick="slide_4()">待收货
                                        </div>
                                        <div class="rc-tabs-ink-bar rc-tabs-ink-bar-animated" id="bar_4"
                                             style="display: block; transform: translate3d(0px, 0px, 0px); width: 96px;">

                                        </div>
                                    </div>

                                    <div class="rc-tabs rc-tabs-top" id="rc-tabs5">
                                        <div role="tab" aria-disabled="false" aria-selected="true"
                                             class="rc-tabs-tab-active rc-tabs-tab" id="above_info5"
                                             onclick="slide_5()">待评价
                                        </div>
                                        <div class="rc-tabs-ink-bar rc-tabs-ink-bar-animated" id="bar_5"
                                             style="display: block; transform: translate3d(0px, 0px, 0px); width: 96px;">

                                        </div>
                                    </div>

                                    <div class="order_catalog">

                                        <div class="baobei">
                                            <span>宝贝</span>
                                        </div>

                                        <div class="unicost">
                                            <span>单价</span>
                                        </div>

                                        <div class="count">
                                            <span>数量</span>
                                        </div>

                                        <div class="amount">
                                            <span>实付款</span>
                                        </div>

                                        <div class="stus">
                                            <select>
                                                <option value="volvo">交易状态</option>
                                                <option value="saab">等待买家付款</option>
                                                <option value="opel">买家已付款</option>
                                                <option value="audi">交易成功</option>
                                                <option value="audi">交易失败</option>
                                            </select>
                                        </div>

                                        <div class="operate">
                                            <span>交易操作</span>
                                        </div>
                                    </div>


                                    <div id="orders">
                                    </div>
                                </div>
                                <div class="div_list" style="display: none">
                                    <div id="bills">
                                    </div>
                                </div>
                                <div class="div_list" style="display: none">
                                    <div class="">
                                        <br>
                                        <p>
                                            Q：什么是身份认证？
                                        </p>
                                        <p>
                                            A：由于本平台主要针对在校大学生群体，因此在本平台使用分期购物需要进行学生身份认证。
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何进行身份认证？
                                        </p>
                                        <p>
                                            A：在安全中心可以进行学生身份验证，输入学校、学号、姓名即可完成学生身份认证。
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何购买商品？
                                        </p>
                                        <p>
                                            A：选择商品后加入购物车，在购物车点击去结算，在订单页面填写收货人信息、支付方式、发票信息，核对送货清单等信息，确认无误后点击提交订单，生成新订单并显示订单编号，可以在我的订单中查看订单信息。
                                        </p>
                                        <br>
                                        <p>
                                            Q：分期付款是否有限额？
                                        </p>
                                        <p>
                                            A：本平台对于分期付款的总额有限制，数额根据用户身份和信誉等级确定，如下表：
                                            <br>
                                            <img src="/img/account/help.png">
                                        </p>
                                        <br>
                                        <p>
                                            Q：什么是信誉等级？
                                        </p>
                                        <p>
                                            A：信誉等级是平台根据用户的信息、还款能力等信息综合评定出的代表用户信用度的指标。
                                        </p>
                                        <br>
                                        <p>
                                            Q：信誉等级对我使用分期购物有什么影响？
                                        </p>
                                        <p>
                                            A：信誉等级越高，分期付款的限额越高，具体可以参考Q：分期付款是否有限额。同时，信誉等级与付款的服务费率相关，如下表：
                                            <br>
                                            <img src="/img/account/help2.png">
                                            <br>
                                            注：每期的分期服务费=消费本金×分期服务费率（月）
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何提升信誉等级？
                                        </p>
                                        <p>
                                            A：丰富的守约记录，如按时还款，可以提高平台对用户的信誉评估，从而提高信誉等级。
                                        </p>
                                        <br>
                                        <p>
                                            Q：分期付款的期数是否有限制？
                                        </p>
                                        <p>
                                            A：本平台根据订单的金额，对商品的分期付款期数做出限制，如下表：
                                            <br>
                                            <img src="/img/account/help3.png">
                                            <br>
                                            最长分期时长对应的金额为一个订单的金额，而不是一个商品的金额，例如，小明在一家店铺购买了两副耳机，耳机单价为1300，订单总额为2600，则小明可以选择最长分期市场为6个月。
                                        </p>
                                        <br>
                                        <p>
                                            Q：提前还款是否有违约金？
                                        </p>
                                        <p>
                                            A：·提前还款不收取违约金，但服务费照常收取。
                                        </p>
                                        <br>
                                        <p>
                                            Q：未能按时还款造成违约，违约金如何收取？
                                        </p>
                                        <p>
                                            A:您任何一期未在划款日或还款日之前足额归还当期借款本息即视为逾期，自逾期之日起计算违约天数。
                                            <b>违约金计算方式：</b>
                                            违约金（日）=应付但未付总额（总本金+总分期服务费）×违约金比例
                                            总违约金=违约金（日）×违约天数
                                            具体违约金比例按下标准收取：
                                            <br>
                                            <img src="/img/account/help4.png">
                                            <br>
                                            说明：
                                            <br>
                                            1.违约金（日）不足0.01元时按0.01元收取
                                            <br>
                                            2.违约金按日累计计算。
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何修改订单？
                                        </p>
                                        <p>
                                            A：在订单打印前，可以在我的订单页面中修改订单。
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何修改密码？
                                        </p>
                                        <p>
                                            A：在安全中心可以通过手机验证或旧密码验证的方式修改密码。
                                        </p>
                                        <br>
                                        <p>
                                            Q：如何查看还款信息？
                                        </p>
                                        <p>
                                            A：在我的账单中，可以查看消费记录、待还款项、以及可以在我的账单页面中还款。
                                        </p>
                                    </div>
                                </div>
                                <div class="div_list" style="display: none">
                                    <table cellspacing="15px" class="_319EJ">
                                        <tr></tr>
                                        <tr></tr>
                                        <tr>
                                            <td>手机号码：</td>
                                            <td><input type="tel" readonly title="手机号" value="15367489070"
                                                       class="_1YMqD" name="phone"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><a onclick="change_phone()" class="_2uLFV">修改手机号</a></td>
                                        </tr>
                                        <tr></tr>
                                        <tr></tr>
                                        <tr>
                                            <td>新密码：</td>
                                            <td><input type="password" class="_1YMqD" name="new_pwd" title="新密码"
                                                       placeholder="请输入新密码">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>重复密码：</td>
                                            <td><input type="password" class="_1YMqD" name="re_pwd" title="再次输入新密码"
                                                       placeholder="再次输入新密码"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><a onclick="change_password()" class="_2uLFV">修改密码</a></td>
                                        </tr>
                                        <tr></tr>
                                        <tr></tr>
                                        <tr>
                                            <td>真实姓名：</td>
                                            <td><input type="text" class="_1YMqD" title="真实姓名" name="real_name"></td>
                                        </tr>
                                        <tr>
                                            <td>学号：</td>
                                            <td><input type="number" class="_1YMqD" title="学号" name="student_number">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>所读学校：</td>
                                            <td><input type="text" class="_1YMqD" title="学校名称" name="school_name"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><a onclick="change_real_info()" class="_2uLFV">修改信息</a></td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--脚部-->
<footer class="_3LWKs">
    <div class="w1200">
        <div class="_3aJyk">
            <p class="_2DW2R">
                <a href="#">
                    <img src="data:image/png;base64,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"
                         alt="关注微博">
                    <img src="/img/index_need/QRcode.png"
                         alt="大图" class="_2zzbZ">
                </a>
                <a href="#">
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAExklEQVRYhc2Zy1MjVRSHv+7qNJ0hL4iQhEcCIWA5C0FnLGrcOVZpQZU7/QuchUtn6cqVLNWq2ViW/gXjzsWoZTk7hdKpAawaeRoY3o8J9EDSDHngohtIN3lcEsD57W7uufd86b733HNuS8lkkhqlAreAd4DXgT4gAnis/n1gDZgBJoGHwB/AYS3OpBpA3wA+AT4Ems85dge4D3wDPD7PwPOA9gMjwBAgncdJCR0BPwGfARMiA2QBGw34EvgLGKZ+SKw5hqw5v7J8VFQ10ATmuroLKPXSlZACfGr5SFQyrAT6FvA7MHBxXGU1AIwCg+UMyoEOAr8BLZcAVU5B4FfKwJYCTQA/chpmrlIey/eZZeAE1TDDx1U+SadaLAbbBnOCjnA1a7KaBoAvin8ojqP9mOHiMnZ3LcoBNzBPNdsTHeHlgQSTZaS4AeaxOHSeWdLpNOvrG+i6jmEcUCgUcLlceDwempubaG1tQVHq/t/DFtvj41f/HfCxyMh8Ps/8/L+sr29UtFMUhXi8i3A4XC/s98AdKZlMNgAbgL/aiGw2y+Tk36TTGWEv7e1t9PTEa8cEHQjJmAG2KiTA9PTsCaTL5SIa7aSxsdFm4/P56OzsQJbN5b+yssrq6lo9oH5gUAZui1jr+nNSqdRJOxwO0dUVo6OjzWbX15egu7sLv9938tvCwiL5fL4e2NsKZliqqu3tbVt7dXWNQqFAKrVj+31qahqfz8furo4sy3g8HlTVRSZj4PXWfNj1K5iZeVVlMoatnc/nWVlZPWO3v58mm80Sj3dTKBTQdZ1MJsPU1BSq2kAg4CccDtHQ0HAe0D4FCInZHglZeb1eIpEwyWSSbDZn6zOMA3Rd5+nTJWKxKNFopyhoSAa8IpYeT/XXpqoqra0tzMzMnoEs1tHREQsLi8zNzYuCekUyfABCoRCSVDm5b2uLsLCwaGu3tUVO2m63Rm9vAlVVAXOdF2/QSpKBPRHDa9fcdHS0l+2XJIlCoWDb3YFAgObm0/pP0zSCwaBtfS4vn13nJbSnYAb7oIh1V1eMXC7H2tr6mT5N0zAM+4Z78uQfW3tnZ5fR0TE7wZ7Qc9qQMetuIUmSRG9vgmDwbJUsyxdR85XVjIxguVqsvb19NK2BWCxKOBzC7/ejKIrQhnOqqSkgYjahYNZGn4tObBjGCaBzcx0eZllaWiaXK7/jiyVJkmiIeigDY5gHv5DcbjeRSLhkBFBVF729iarR4Vg9PXGRt/AcGJWBF8APoqDV1NLyCtevv4bL5apo19MTt4WuCroPvDjOR98EHtVNWaR8Ps/m5hapVArDOACO0DQNt9vN5uYWsVhUFPQm8Ki4ZvoZeO8iYcspl8uh6zrBYNWo+AvwPtiLuwHgT16euimH+TQnwF7cjQP3/g+iMrpHUeh0Xju6ubr7pkqawLwkPjnqnEmJAXwEbF0hlFNbmJfEtvO4VPY0B3wApK8Ayqm05XvO2VEuzRsD3gWeXSKUU88sn2OlOivlo2OY62T8EqCcGgfepgwkVL9xnsWE/RozXFy0ctbct6iSxYlk+AeYV+M3gQd1o53qgTXnXctHRQmXIpghYxjzuP0WEKsh7Nqxxt6w5hJOMWv5znQs5wexVyn9QWyaC/gg9h+1Y2MlXBO6gQAAAABJRU5ErkJggg=="
                         alt="关注微信">
                    <img src="/img/index_need/QRcode.png"
                         alt="大图" class="_2zzbZ">
                </a>
            </p>
            <img src="/img/account/phone_number.png"
                 alt="联系方式">
        </div>
        <div class="yd8x8">
            <div class="_2LU72">
                <div class="_3qvba">
                    <div class="_3NmFM">
                        <a target="_blank" rel="noopener noreferrer"
                           href="#">备案号：京ICP备190829号-1
                        </a>
                        <a target="_blank" rel="noopener noreferrer"
                           href="#">湘公网安备 4888888888888888号</a>
                        <a target="_blank" rel="noopener noreferrer"
                           href="#">营业执照</a>
                        <a target="_blank" rel="noopener noreferrer"
                           href="#">资质证书</a>
                        <a href="#" target="_blank" rel="noopener noreferrer" title="行业认证">
                            <img height="15"
                                 src="/img/index_need/dfq_logo.ico" alt="lm">
                        </a>
                    </div>
                    <p> Ccpyright@2019 铁道软件商务咨询（长沙）有限公司 版权所有</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<script>
    $(function () {
        var page_type = document.title;
        var url = "";
        switch (page_type) {
            case "个人中心":
                url = "personalCenter";
                chang_main_div(0);
                break;
            case "我的订单":
                url = "allOrders";
                chang_main_div(1);
                break;
            case "我的账单":
                url = "allBills";
                chang_main_div(2);
                break;
            case "帮助":
                url = "help";
                chang_main_div(3);
                break;
            case "安全中心":
                url = "safetyCenter";
                chang_main_div(4);
                break;
            default:
                alert("后端出错了");
        }
        $.get(url, function (html) {
            document.getElementsByName("main_html")[0].innerHTML = html;
        })
    });

    var div_name_list = ["个人中心", "我的订单", "我的账单", "帮助", "安全中心"];
    var url_list = ["personalCenter", "allOrders", "allBills", "help", "safetyCenter"];
    var div_list = document.getElementsByClassName("div_list");

    function chang_main_div(x) {
        if (x === 4) {
            if (confirm("进入安全中心需要进行手机验证，您确定吗？")) {
                $.get("sendVerificat", function (data) {
                    if (data === "1") {
                        var str = prompt("手机验证码已发送成功，请输入验证码：");
                        record = {"verification": str};
                        $.ajax({
                            type: "POST",
                            url: "judgeVerificat",
                            datatype: "text",
                            contentType: "application/json",
                            data: JSON.stringify(record),
                            async: true,
                            success: function (result) {
                                if (result === "1") {
                                    document.getElementsByClassName("VrjG_")[0].classList.remove("VrjG_");
                                    document.getElementsByClassName("-jFKi")[x].classList.add("VrjG_");
                                    document.getElementById("above_info").innerText = div_name_list[x];
                                    document.title = div_name_list[x];
                                    for (var i = 0; i < div_list.length; i++)
                                        div_list[i].style.display = "none";
                                    div_list[x].style.display = "block";
                                    $.get(url_list[x], function (data) {
                                        console.log(data);
                                        document.getElementsByName("phone")[0].value = data['mobile'];
                                        document.getElementsByName("real_name")[0].value = data['name'];
                                        document.getElementsByName('student_number')[0].value = data['studentNumber']
                                        document.getElementsByName('school_name')[0].value = data['school'];
                                    })
                                } else
                                    alert("验证码错误！！")
                            },
                        })
                    } else {
                        alert("验证码发送失败！");
                    }
                })
            }
        } else {
            document.getElementsByClassName("VrjG_")[0].classList.remove("VrjG_");
            document.getElementsByClassName("-jFKi")[x].classList.add("VrjG_");
            document.getElementById("above_info").innerText = div_name_list[x];
            document.title = div_name_list[x];
            for (var i = 0; i < div_list.length; i++)
                div_list[i].style.display = "none";
            div_list[x].style.display = "block";
            $.get(url_list[x], function (data) {
                console.log(data);
                switch (x) {
                    case 0:
                        document.getElementsByName("account_name")[0].value = data["username"];
                        document.getElementsByName("infoSexRadio")[data["gender"] - 1].checked = "true";
                        document.getElementById("user_level").innerText = data["user_level"];
                        document.getElementsByName("email")[0].value = data["email"];
                        document.getElementById("hidden_phone").innerText = data["mobile"].substring(0, 3) + "xxxxx" + data["mobile"].substring(8, 10);
                        document.getElementById("preview").setAttribute("src", "data:image/jpg;base64," + data["avatar"]);
                        console.log(data["birthday"]);
                        document.getElementsByName("birthday")[0].value = data["birthday"];
                        break;
                    case 1:
                        var Str = "";
                        var orderList = data["orderList"];
                        for (var i = 0; i < orderList.length; i++) {
                            Str += "<div class = \"order_id\">\n" +
                                "<label class=\"date_check\"><input name=\"Date\" type=\"checkbox\"/></label>\n" +
                                "<span class=\"order_date\"></span>\n" +
                                "<span class=\"ord_id\" >" + orderList[i].id + "</span>\n" +
                                "</div> <table class=\"order_table\">\n" +
                                "<tr>\n" +
                                " <td class=\"order_product\">\n" +
                                "<a  class=\"product_pic\" >\n" +
                                "<img class=\"order_pic\" name='111'\n" +
                                "width=\"80px\" height=\"80px\" style=\"vertical-align: unset\">\n" +
                                "</a>\n" +
                                "</td>\n" +
                                " <td class=\"order_descn\">\n" + orderList[i].goodsList[0]["goodsName"] +
                                "<div class=\"product_descn\">\n" +
                                "<span class = \"descn\"></span>\n" +
                                "</div>\n" +
                                "</td>\n" +
                                "<td  class=\"product_unicost\">\n" + orderList[i].actualPrice +
                                "<span class=\"unicost_product\"></span>\n" +
                                "</td>\n" +
                                "<td  class=\"product_count\">\n" + orderList[i].goodsList[0]["number"] +
                                " <span class=\"count_product\"></span>\n" +
                                "</td>\n" +
                                "\n" +
                                " <td  class=\"product_amount\">\n" + orderList[i].actualPrice +
                                "<span class=\"amount_product\" ></span>\n" +
                                "</td>\n" +
                                "<td  class=\"product_stuts\" >\n" + orderList[i].orderStatusText +
                                " <span class=\"stuts_product\"></span>\n" +
                                " </td>\n" +
                                "\n" +
                                "<td  class=\"product_operate\">\n" + "#" +
                                "<span class=\"operate_product\"></span>\n" +
                                "</td>\n" +
                                "</tr>\n" +
                                "\n" +
                                "</table>";
                        }
                        document.getElementById("orders").innerHTML = Str;

                        for (var j = 0; j < orderList.length; j++) {
                            document.getElementsByClassName("order_pic")[j].setAttribute("src", "data:image/png;base64," + orderList[j].goodsList[0]["picUrl"]);
                        }
                        break;
                    case 2:
                        var account = data["account"];
                        var billList = data["billList"];
                        var Str = "<div class=\"baitiao\">\n" +
                            "<div class=\"edu\">\n" +
                            "<span>可用额度:</span>\n" +
                            "\n" +
                            "</div>\n" +
                            "<div class=\"edu_money\">\n" + account["balance"]
                            +
                            "</div>\n" +
                            "\n" +
                            "<div class=\"edu\">\n" +
                            "<span>总额度</span>\n" + (7000 - 1000 * account["user_level"]) +
                            "</div>\n" +
                            "<div class=\"edu_money\">\n" +
                            "3000$\n" +
                            "</div>\n" +
                            "\n" +
                            "</div>\n" +
                            "\n" ;
                        for (var i = 0; i < billList.length; i++) {

                            Str +=
                                "<div class=\"bill_list\">\n" +
                                "<div class=\"bill_list_textcontent\">\n" +
                                "<h3>商品名称: <span class =\"product_name\">" + billList[i]["goods_name"]+ "</span></h3>\n"+
                                "<h4>商品简介：<span class =\"product_belif\">" + billList[i]["brief"]+ "</span></h4>\n"+
                                "</div>\n" +
                                "\n" +
                                "<div class=\"bill_price\">\n" +
                                "<h3>每月还款：<span class =\"product_month\">" + (billList[i]["total_amount"] / billList[i]["stage_months"]) +  "</span></h3>\n"+
                            "\n" +
                                "<h3>应还几个月：<span class =\"product_month_count\">" +billList[i]["repayment_months"] + "</span></h3>\n"+
                            "</div>\n" +
                                "\n" +
                                "<a class =\"product_pay\">\n" +
                                "一键还款\n" +
                                "</a>\n" +
                                "</div>\n" ;
                        }
                        document.getElementById("bills").innerHTML = Str;
                        break;
                }
            })
        }
    }

    function save_info() {
        var formData = new FormData();
        formData.append("name", document.getElementsByName("account_name")[0].value);
        formData.append("pic", document.getElementsByName("pic_file")[0].files[0]);
        if (document.getElementsByName("infoSexRadio")[0].checked)
            formData.append("gender", "1");
        else
            formData.append("gender", "2");
        formData.append("email", document.getElementsByName("email")[0].value);
        formData.append("birthday", document.getElementsByName("birthday")[0].value);
        $.ajax({
            url: 'upload',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (data) {
                alert("保存成功！");
            }
        })
    }

    function imgPreview(fileDom) {
        //判断是否支持FileReader
        if (window.FileReader) {
            var reader = new FileReader();
        } else {
            alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！");
        }
        //获取文件
        var file = fileDom.files[0];
        var imageType = /^image\//;
        //是否是图片
        if (!imageType.test(file.type)) {
            alert("请选择图片！");
            return;
        }
        //读取完成
        reader.onload = function (e) {
            //获取图片dom
            var img = document.getElementById("preview");
            //图片路径设置为读取的图片
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
    }

    function change_phone() {
        var phone_num = prompt("请输入新的手机号：");

        // $.post("", , function (data) {
        //
        // }, "json")

        $.ajax({
            url: 'sendVerificat',
            type: 'POST',
            data: JSON.stringify({"userPhone": phone_num}),
            contentType: "application/json",
            success: function (data) {
                if (data === "1") {
                    var str = prompt("手机验证码已发送成功，请输入验证码：");
                    $.ajax({
                        url: 'judgeVerificat',
                        type: 'POST',
                        data: JSON.stringify({"userPhone": phone_num, "verification": str}),
                        contentType: "application/json",
                        success: function (result) {
                            if (result === "1") {
                                document.getElementsByName("phone")[0].value = phone_num;
                            } else
                                alert("验证码错误！！")
                        }
                    })
                } else {
                    alert("验证码发送失败！");
                }
            }
        })
    }

    function change_password() {
        var password = document.getElementsByName("new_pwd")[0].value;
        if (document.getElementsByName("new_pwd")[0].value === document.getElementsByName("re_pwd")[0].value) {
            $.ajax({
                url: 'changePassword',
                type: 'POST',
                data: JSON.stringify({"password": password}),
                contentType: "application/json",
                success: function (data) {
                    if (data == "1")
                        alert("密码修改成功！！");
                    else
                        alert("密码修改失败")
                }
            })
        } else
            alert("两次密码一致！")
    }

    function change_real_info() {
        var name = document.getElementsByName("real_name")[0].value;
        var studentNumber = document.getElementsByName("student_number")[0].value;
        var school = document.getElementsByName("school_name")[0].value;
        var student = {"name": name, "studentNumber": studentNumber, "school": school};
        $.ajax({
            url: 'studentCertification',
            type: 'POST',
            data: JSON.stringify(student),
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                if (data == "1")
                    alert("信息修改成功！！");
                else
                    alert("信息修改失败！！")
            }
        })
    }
</script>
</body>

</html>